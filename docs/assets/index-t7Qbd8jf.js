(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();const o="cabdbda40038ba7d1165b953b1c7bd6c",l="https://api.openweathermap.org/data/2.5/weather";function u(e){let a=new Date(e),i=a.getHours(),s=a.getMinutes();return`${["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"][a.getDay()]} ${i}:${s}`}function m(e){let i=new Date(e*1e3).getDay();return["Dom","Lun","Mar","Mie","Jue","Vi","Sa"][i]}function p(e){return{"01d":"./assets/images/clear.png","02d":"./assets/images/partly-cloudy.png","03d":"./assets/images/clouds.png","04d":"./assets/images/clouds.png","09d":"./assets/images/rain.png","10d":"./assets/images/drizzle.png","11d":"./assets/images/drizzle.png","13d":"./assets/images/snow.png","50d":"./assets/images/mist.png"}[e]||"./assets/images/default.png"}function f(e){let a=e.data.daily,i=document.querySelector("#forecast"),s='<div class="row">';a.forEach(function(t,r){r<5&&(s=s+`
        <div class="col-2 ml-3">
          <div class="weather-forecast-date">${m(t.dt)}</div>
          <img
            src="${p(t.weather[0].icon)}"
            alt=""
            width="42"
        />
          <div class="weather-forecast-temperatures">
            <span class="weather-forecast-temperature-max"> ${Math.round(t.temp.max)}° </span>
            <span class="weather-forecast-temperature-min"> ${Math.round(t.temp.min)}° </span>
          </div>
        </div>
    `)}),s=s+"</div>",i.innerHTML=s}function g(e){let i=`https://api.openweathermap.org/data/2.5/onecall?lat=${e.lat}&lon=${e.lon}&appid=cabdbda40038ba7d1165b953b1c7bd6c&units=metric`;axios.get(i).then(f)}function h(e){let a=document.querySelector("#temperature"),i=document.querySelector("#city"),s=document.querySelector("#humidity"),t=document.querySelector("#wind"),r=document.querySelector("#date"),n=document.querySelector("#icon"),c=e.data.main.temp;a.innerHTML=Math.round(c),i.innerHTML=e.data.name,s.innerHTML=e.data.main.humidity,t.innerHTML=Math.round(e.data.wind.speed*3.6),r.innerHTML=u(e.data.dt*1e3),n.setAttribute("alt",e.data.weather[0]),e.data.weather[0].main=="Clear"?n.src="./assets/images/clear.png":e.data.weather[0].main=="Clouds"?n.src="./assets/images/clouds.png":e.data.weather[0].main=="Rain"?n.src="./assets/images/rain.png":e.data.weather[0].main=="Mist"?n.src="./assets/images/mist.png":e.data.weather[0].main=="Drizzle"?n.src="./assets/images/drizzle.png":e.data.weather[0].main=="Snow"&&(n.src="./assets/images/snow.png"),g(e.data.coord)}function d(e){const a={q:e,appid:o,units:"metric"};axios.get(l,{params:a}).then(i=>h(i)).catch(i=>{console.error("Error fetching weather data:",i)})}function y(e){e.preventDefault();let a=document.querySelector("#city-input");d(a.value)}let w=document.querySelector("#search-form");w.addEventListener("submit",y);d("Madrid");
